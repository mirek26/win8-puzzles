<html>
<head>
<link href="style.css" rel="stylesheet" />

<style type="text/css">
body{
	margin: 0px;
}

.wrapper{
	left: 100px;
	top: 100px;
}

#canvas{
	height: 900px;
	width: 800px;
	display: inline-block;
	text-align: center;
	background: -ms-linear-gradient(top, #7d7e7d 0%,#2e2e2e 100%);
	background: -webkit-linear-gradient(top, #7d7e7d 0%,#2e2e2e 100%);
}

textarea {
	height: 100px;
	width: 300px;
}

</style>
<script type="text/javascript">
var p, inout;
var puzzledef = JSON.parse('{"author":1,"def":["####--","# .#--","#  ###","#.   #","#    #","#  ###","####--"],"istate":{"man":[3,2],"boxes":[[3,1],[4,3]]},"state":null,"id":153,"type":"Sokoban","title":"Store 2a","solved":false,"spend":null,"expected":"00:02:03"}');

function go(){
	var controller = { 
		action: function(){}, 
		action_solved: function(){ console.log("SOLVED!"); }
	};
	p = new Puzzle(puzzledef, controller);
	p.initializeUi(document.getElementById("canvas"));
	p.updateUi();
	inout = document.getElementById("state");
}

function get(){
	inout.value = JSON.stringify(p.getState());
}

function set(){
	p.setState(JSON.parse(inout.value));
}

function reset(){
	p.setState(puzzledef.istate);
}
</script>
<script type="text/javascript" src="script.js"></script>
<script type="text/javascript" src="../common.js"></script>
<script type="text/javascript" src="../../js/jquery-1.8.2.js"></script>
</head>
<body onload="go()">
<div id="canvas" class="sokoban">
</div>
<div style="position: absolute; top:0px; right:0px; text-align:left;">
<textarea id="state"></textarea><br/>
<button onclick="reset()">RESET</button>
<button onclick="set()">SET</button>
<button onclick="get()">GET</button>
</div>
</body>